<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>PUSH EBP MOV EBP, ESP</title>
        <link rel="stylesheet" href="http://www.leighappel.com/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://www.leighappel.com/">Leigh Appel </a></h1>
                <nav><ul>
                    <li class="active"><a href="http://www.leighappel.com/category/about-me.html">About Me</a></li>
                    <li><a href="http://www.leighappel.com/category/programming.html">Programming</a></li>
                    <li><a href="http://www.leighappel.com/category/security.html">Security</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://www.leighappel.com/push-ebp-mov-ebp-esp.html" rel="bookmark"
           title="Permalink to PUSH EBP MOV EBP, ESP">PUSH EBP  MOV EBP, ESP</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-01-22T00:00:00+10:00">
                Published: Tue 22 January 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://www.leighappel.com/author/leigh-appel.html">Leigh Appel</a>
        </address>
<p>In <a href="http://www.leighappel.com/category/about-me.html">About Me</a>.</p>
<p>tags: <a href="http://www.leighappel.com/tag/blogging.html">blogging</a> </p>
</footer><!-- /.post-info -->      <h1>About me</h1>
<p>Hi, I'm Leigh and this is my blog. I am a professional programmer, hiking enthusiast, serial hobbyist and avid gamer.  This is a place for me to document things I've learned or am interested in, explore new ideas, write-up interesting case studies, side projects and hopefully much more.</p>
<h1>Why a blog?</h1>
<p>Over the last few years I have engaged in a number of extra-curricular activities, beyond my regular work duties.  This usually involves late nights filled with reading, coding and even soldering. Up until now I had never thought to share these endeavours but I feel like it could be a great opportunity to share and learn new things as well as meet like-minded people.</p>
<h1>What to expect</h1>
<p>As a self-professed serial hobbyist you can expect that the topics I blog about will be as diverse as they are - hopefully, interesting.  For the most part they will involve topics related to programming, security, data analysis, algorithms, arduino and many others.</p>
<p>Without further ado, I thought I'd leave you with a morsel of knowledge I have picked up during the last year, that might help beginners. A topic I have been researching heavily lately is that of Information Security. Specifically, I have been researching reverse engineering, malware analysis and software exploitation.  You may have noticed the title of this introductory blog post looks a bit strange: </p>
<div class="highlight"><pre>push ebp
mov  ebp, esp
</pre></div>


<p>It looks strange because it is a snippet of Assembly language, but not just any Assembly language, it is the standard entrance for a function that many compilers will generate. This is useful knowledge when using an assembler debugger such as OllyDbg, WinDbg or GDB to identify program or function entry points.</p>
<p>As an example, the following C code snippet:</p>
<div class="highlight"><pre>void foo()
{
  int bar;
}
</pre></div>


<p>will begin with the following Assembly code:</p>
<div class="highlight"><pre>_foo
  push ebp
  mov  ebp, esp
  sub  esp, 0x4
</pre></div>


<p><em>note: The sub esp, 0x4 line will allocate space on the stack for the 'bar' variable.</em></p>
<p>This piece of assembly follows the form <em>opcode destination, source</em></p>
<p>One of the things that can be confusing with this concept, is this will not always be the case. Depending on your operating system, the architecture, the compiler used and even the flags passed in to the compiler, the Assembly code be different. For example:</p>
<div class="highlight"><pre>push %ebp
mov  %esp, %ebp
sub  0x04, %esp
</pre></div>


<p>This is typical of the AT&amp;T syntax used in GNU AS and will be used on Unix-like systems. It follows the format <em>opcode source, destination</em></p>
<p>An absolutely amazing resource for more information about this (and much more) is located in this free <a href="https://en.wikibooks.org/wiki/X86_Disassembly/Functions_and_Stack_Frames">wiki book</a></p>
    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'leighappelblog';
        var disqus_identifier = 'push-ebp-mov-ebp-esp.html';
        var disqus_url = 'http://www.leighappel.com/push-ebp-mov-ebp-esp.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//leighappelblog.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://news.ycombinator.com">Hacker News</a></li>
                            <li><a href="http://hackandheckle.com">Hack and Heckle</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://github.com/abarax">GitHub</a></li>
                            <li><a href="http://pinboard.in/u:abarax">Pinboard</a></li>
                            <li><a href="https://twitter.com/abarax">Twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39498444-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = 'https://ssl.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'leighappelblog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>